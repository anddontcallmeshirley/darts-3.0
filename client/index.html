<head>
    <title>(Digitally) Play-by-Mail Darts</title>
</head>

<body>
    {{> games}}
</body>

<template name="header">
    {{loginButtons}}
</template>

<template name="games">
    <div data-role="page" id="games">
        <div data-role="header">{{> header}}</div>
        <div data-role="content">
            <h1>{{ playerRecord }}</h1>
            <ul class="games-group">
            {{#each games}}
                {{> game}}
            {{/each}}
            </ul>
        </div>
        <div data-role="footer">{{> footer}}</div>
    </div>

    {{#if selectedGame}}
    <div data-role="page" class="rounds page" id="rounds">
        <div data-role="header">{{> header}}</div>
        <div data-role="content">
            {{> rounds}}
        </div>
        <div data-role="footer">{{> footer}}</div>
    </div>
    {{/if}}

    {{#if selectedRound}}
    <div data-role="page" class="round page" id="round">
        <div data-role="header">{{> header}}</div>
        <div data-role="content">
            {{> round}}
        </div>
        <div data-role="footer">{{> footer}}</div>
    </div>
    {{/if}}

</template>

<template name="footer">
    <h4>Lamping Associtation of Remote Darts</h4>
</template>

<template name="game">
    <li class="games-item row">
        <span class="span8">
            <h2>You {{result}} {{opponent}}, {{winningScore}} to {{losingScore}}</h3>
        </span>
        <span class="span4" class="game-action-container">
            <a href="#rounds" class="showGame btn btn-primary">
                View
            </a>
        </span>
    </li>
</template>

<template name="rounds">
    <h2>Rounds</h2>
    <ul>
        {{#each rounds}}
        <li>
            <a href="#round" class="showRound" data-round="{{roundNum}}">{{playerRoundScore}}</a> to {{oppRoundScore}}
        </li>
        {{/each}}
    </ul>
</template>

<template name="round">
    <h2>Round #{{roundNum}}</h2>
    <ul>
        {{#each target}}
            <li>{{> target}}</li>
        {{/each}}
    </ul>
</template>

<template name="target">
    <div data-role="fieldcontain" data-value="{{value}}">
        <fieldset data-role="controlgroup" data-type="horizontal">
            <legend><span class="hidden">Number of hits:</span></legend>
            {{value}}
            {{#each hit}}
                <input type="radio" name="{{../value}}" id="{{../value}}-{{count}}" value="{{count}}" {{checked}} class="targetHit" />
                <label for="{{../value}}-{{count}}">{{count}}</label>
            {{/each}}
        </fieldset>
    </div>
</template>